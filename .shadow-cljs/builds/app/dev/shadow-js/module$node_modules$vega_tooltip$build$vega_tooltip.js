["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/vega-tooltip/build/vega-tooltip.js"],"~:js","shadow$provide.module$node_modules$vega_tooltip$build$vega_tooltip=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\"object\"===typeof exports$jscomp$0&&\"undefined\"!==typeof module?factory(exports$jscomp$0):\"function\"===typeof define&&define.amd?define([\"exports\"],factory):(global=global||self,factory(global.vegaTooltip={}))})(this,function(exports){function escapeHTML(value){return String(value).replace(/&/g,\"\\x26amp;\").replace(/</g,\"\\x26lt;\")}function createDefaultStyle(id){if(!/^[A-Za-z]+[-:.\\w]*$/.test(id))throw Error(\"Invalid HTML ID\");\nreturn\"#vg-tooltip-element {\\n  visibility: hidden;\\n  padding: 8px;\\n  position: fixed;\\n  z-index: 1000;\\n  font-family: sans-serif;\\n  font-size: 11px;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n  /* The default theme is the light theme. */\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border: 1px solid #d9d9d9;\\n  color: black; }\\n  #vg-tooltip-element.visible {\\n    visibility: visible; }\\n  #vg-tooltip-element h2 {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 13px; }\\n  #vg-tooltip-element table {\\n    border-spacing: 0; }\\n    #vg-tooltip-element table tr {\\n      border: none; }\\n      #vg-tooltip-element table tr td {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        padding-top: 2px;\\n        padding-bottom: 2px; }\\n        #vg-tooltip-element table tr td.key {\\n          color: #808080;\\n          max-width: 150px;\\n          text-align: right;\\n          padding-right: 4px; }\\n        #vg-tooltip-element table tr td.value {\\n          display: block;\\n          max-width: 300px;\\n          max-height: 7em;\\n          text-align: left; }\\n  #vg-tooltip-element.dark-theme {\\n    background-color: rgba(32, 32, 32, 0.9);\\n    border: 1px solid #f5f5f5;\\n    color: white; }\\n    #vg-tooltip-element.dark-theme td.key {\\n      color: #bfbfbf; }\\n\".toString().replace(\"vg-tooltip-element\",\nid)}function accessor(fn,fields,name){fn.fields=fields||[];fn.fname=name;return fn}function splitAccessPath(p){function push(){path.push(s+p.substring(i,j));s=\"\";i=j+1}var path=[],q=null,b=0,n=p.length,s=\"\",i,j;p+=\"\";for(i=j=0;j<n;++j){var c=p[j];if(\"\\\\\"===c)s+=p.substring(i,j),i=++j;else if(c===q)push(),q=null,b=-1;else if(!q)if(i===b&&'\"'===c)i=j+1,q=c;else if(i===b&&\"'\"===c)i=j+1,q=c;else if(\".\"===c&&!b)j>i?push():i=j+1;else if(\"[\"===c)j>i&&push(),b=i=j+1;else if(\"]\"===c){if(!b)throw Error(\"Access path missing open bracket: \"+\np);0<b&&push();b=0;i=j+1}}if(b)throw Error(\"Access path missing closing bracket: \"+p);if(q)throw Error(\"Access path missing closing quote: \"+p);j>i&&(j++,push());return path}function $(x){return isArray(x)?\"[\"+x.map($)+\"]\":x===Object(x)||\"string\"===typeof x?JSON.stringify(x).replace(\"\\u2028\",\"\\\\u2028\").replace(\"\\u2029\",\"\\\\u2029\"):x}function formatValue(value,valueToHtml,maxDepth){if(isArray(value))return\"[\"+value.map(function(v){return valueToHtml(\"string\"===typeof v?v:stringify(v,maxDepth))}).join(\", \")+\n\"]\";if(value===Object(value)){var content=\"\",title=value.title;value=__rest(value,[\"title\"]);title&&(content+=\"\\x3ch2\\x3e\"+valueToHtml(title)+\"\\x3c/h2\\x3e\");title=Object.keys(value);if(0<title.length){content+=\"\\x3ctable\\x3e\";title=$jscomp.makeIterator(title);for(var $jscomp$key$key=title.next();!$jscomp$key$key.done;$jscomp$key$key=title.next()){$jscomp$key$key=$jscomp$key$key.value;var val=value[$jscomp$key$key];void 0!==val&&(val===Object(val)&&(val=stringify(val,maxDepth)),content+='\\x3ctr\\x3e\\x3ctd class\\x3d\"key\"\\x3e'+\nvalueToHtml($jscomp$key$key)+':\\x3c/td\\x3e\\x3ctd class\\x3d\"value\"\\x3e'+valueToHtml(val)+\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}content+=\"\\x3c/table\\x3e\"}return content||\"{}\"}return valueToHtml(value)}function replacer(maxDepth){var stack=[];return function(key,value){if(\"object\"!==typeof value||null===value)return value;key=stack.indexOf(this)+1;stack.length=key;if(stack.length>maxDepth)return\"[Object]\";if(0<=stack.indexOf(value))return\"[Circular]\";stack.push(value);return value}}function stringify(obj,maxDepth){return JSON.stringify(obj,\nreplacer(maxDepth))}function calculatePosition(event,tooltipBox,offsetX,offsetY){var x=event.clientX+offsetX;x+tooltipBox.width>window.innerWidth&&(x=+event.clientX-offsetX-tooltipBox.width);offsetX=event.clientY+offsetY;offsetX+tooltipBox.height>window.innerHeight&&(offsetX=+event.clientY-offsetY-tooltipBox.height);return{x:x,y:offsetX}}var DEFAULT_OPTIONS={offsetX:10,offsetY:10,id:\"vg-tooltip-element\",styleId:\"vega-tooltip-style\",theme:\"light\",disableDefaultStyle:!1,sanitize:escapeHTML,maxDepth:2},\nisArray=Array.isArray,empty=[];(function(field,name){var path=splitAccessPath(field),code=\"return _[\"+path.map($).join(\"][\")+\"];\";return accessor(Function(\"_\",code),[field=1===path.length?path[0]:field],name||field)})(\"id\");accessor(function(_){return _},empty,\"identity\");accessor(function(){return 0},empty,\"zero\");accessor(function(){return 1},empty,\"one\");accessor(function(){return!0},empty,\"true\");accessor(function(){return!1},empty,\"false\");var __rest=function(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,\np)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},Handler=function(options){this.options=Object.assign({},DEFAULT_OPTIONS,options);options=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var style=document.createElement(\"style\");\nstyle.setAttribute(\"id\",this.options.styleId);style.innerHTML=createDefaultStyle(options);var head=document.head;0<head.childNodes.length?head.insertBefore(style,head.childNodes[0]):head.appendChild(style)}this.el=document.getElementById(options);this.el||(this.el=document.createElement(\"div\"),this.el.setAttribute(\"id\",options),this.el.classList.add(\"vg-tooltip\"),document.body.appendChild(this.el))};Handler.prototype.tooltipHandler=function(handler,event,item,value){null==value||\"\"===value?this.el.classList.remove(\"visible\",\nthis.options.theme+\"-theme\"):(this.el.innerHTML=formatValue(value,this.options.sanitize,this.options.maxDepth),this.el.classList.add(\"visible\",this.options.theme+\"-theme\"),handler=calculatePosition(event,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),this.el.setAttribute(\"style\",\"top: \"+handler.y+\"px; left: \"+handler.x+\"px\"))};exports.DEFAULT_OPTIONS=DEFAULT_OPTIONS;exports.Handler=Handler;exports.calculatePosition=calculatePosition;exports.createDefaultStyle=createDefaultStyle;\nexports.default=function(view,opt){opt=new Handler(opt);view.tooltip(opt.call).run();return opt};exports.escapeHTML=escapeHTML;exports.formatValue=formatValue;exports.replacer=replacer;exports.stringify=stringify;exports.version=\"0.18.1\";Object.defineProperty(exports,\"__esModule\",{value:!0})})}","~:source","shadow$provide[\"module$node_modules$vega_tooltip$build$vega_tooltip\"] = function(global,require,module,exports) {\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = global || self, factory(global.vegaTooltip = {}));\n}(this, function (exports) { 'use strict';\n\n    var name = \"vega-tooltip\";\n    var version = \"0.18.1\";\n    var description = \"A tooltip plugin for Vega-Lite and Vega visualizations.\";\n    var main = \"build/vega-tooltip.js\";\n    var module = \"build/src/index.js\";\n    var unpkg = \"build/vega-tooltip.min.js\";\n    var jsdelivr = \"build/vega-tooltip.min.js\";\n    var typings = \"build/src/index.d.ts\";\n    var repository = {\n    \ttype: \"git\",\n    \turl: \"https://github.com/vega/vega-tooltip.git\"\n    };\n    var keywords = [\n    \t\"vega-lite\",\n    \t\"vega\",\n    \t\"tooltip\"\n    ];\n    var author = {\n    \tname: \"UW Interactive Data Lab\",\n    \turl: \"https://idl.cs.washington.edu\"\n    };\n    var collaborators = [\n    \t\"Dominik Moritz\",\n    \t\"Sira Horradarn\",\n    \t\"Zening Qu\",\n    \t\"Kanit Wongsuphasawat\",\n    \t\"Yuri Astrakhan\",\n    \t\"Jeffrey Heer\"\n    ];\n    var license = \"BSD-3-Clause\";\n    var bugs = {\n    \turl: \"https://github.com/vega/vega-tooltip/issues\"\n    };\n    var homepage = \"https://github.com/vega/vega-tooltip#readme\";\n    var scripts = {\n    \tprepare: \"beemo create-config --silent\",\n    \tbuild: \"rollup -c\",\n    \tclean: \"rm -rf build examples/data && rm -f src/style.ts && mkdir build\",\n    \t\"copy:data\": \"rsync -r node_modules/vega-datasets/data/* examples/data\",\n    \t\"copy:build\": \"rsync -r build/* examples/build\",\n    \t\"deploy:gh\": \"yarn build && yarn copy:build && gh-pages -d examples && yarn clean\",\n    \tprettierbase: \"beemo prettier 'examples/*.{html,scss,css}'\",\n    \teslintbase: \"beemo eslint '{src,test,typings}/**/*.ts' '*.js'\",\n    \tformat: \"yarn eslintbase --fix && yarn prettierbase --write\",\n    \tlint: \"yarn eslintbase && yarn prettierbase --check\",\n    \tpostbuild: \"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js\",\n    \tprebuild: \"yarn clean && yarn copy:data && ./build-style.sh && tsc\",\n    \tprepublishOnly: \"yarn build\",\n    \tpreversion: \"yarn lint\",\n    \tstart: \"yarn build && concurrently --kill-others -n Server,Typescript,Rollup 'browser-sync start -s -f build examples --serveStatic examples' 'tsc -w' 'rollup -c -w'\",\n    \tpretest: \"./build-style.sh\",\n    \ttest: \"jest\"\n    };\n    var devDependencies = {\n    \t\"@types/jest\": \"^24.0.15\",\n    \t\"@types/node\": \"^12.6.8\",\n    \t\"browser-sync\": \"^2.26.7\",\n    \tconcurrently: \"^4.1.1\",\n    \t\"gh-pages\": \"^2.0.1\",\n    \tjest: \"^24.8.0\",\n    \t\"node-sass\": \"^4.12.0\",\n    \tpath: \"^0.12.7\",\n    \trollup: \"^1.17.0\",\n    \t\"rollup-plugin-commonjs\": \"^10.0.1\",\n    \t\"rollup-plugin-json\": \"^4.0.0\",\n    \t\"rollup-plugin-node-resolve\": \"^5.2.0\",\n    \tterser: \"^4.1.2\",\n    \t\"ts-jest\": \"^24.0.2\",\n    \ttypescript: \"^3.5.3\",\n    \t\"vega-datasets\": \"^1.25.0\",\n    \t\"vega-lite-dev-config\": \"^0.1.16\",\n    \t\"vega-typings\": \"^0.7.2\"\n    };\n    var dependencies = {\n    \t\"vega-util\": \"^1.10.0\"\n    };\n    var beemo = {\n    \tmodule: \"vega-lite-dev-config\",\n    \tdrivers: [\n    \t\t\"prettier\",\n    \t\t\"eslint\"\n    \t]\n    };\n    var jest = {\n    \ttestURL: \"http://localhost/\",\n    \ttransform: {\n    \t\t\"^.+\\\\.tsx?$\": \"ts-jest\"\n    \t},\n    \ttestRegex: \"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$\",\n    \tmoduleFileExtensions: [\n    \t\t\"ts\",\n    \t\t\"tsx\",\n    \t\t\"js\",\n    \t\t\"jsx\",\n    \t\t\"json\",\n    \t\t\"node\"\n    \t],\n    \ttestPathIgnorePatterns: [\n    \t\t\"node_modules\",\n    \t\t\"<rootDir>/build\",\n    \t\t\"src\"\n    \t]\n    };\n    var pkg = {\n    \tname: name,\n    \tversion: version,\n    \tdescription: description,\n    \tmain: main,\n    \tmodule: module,\n    \tunpkg: unpkg,\n    \tjsdelivr: jsdelivr,\n    \ttypings: typings,\n    \trepository: repository,\n    \tkeywords: keywords,\n    \tauthor: author,\n    \tcollaborators: collaborators,\n    \tlicense: license,\n    \tbugs: bugs,\n    \thomepage: homepage,\n    \tscripts: scripts,\n    \tdevDependencies: devDependencies,\n    \tdependencies: dependencies,\n    \tbeemo: beemo,\n    \tjest: jest\n    };\n\n    // generated with build-style.sh\n    var defaultStyle = `#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n`;\n\n    const EL_ID = 'vg-tooltip-element';\n    const DEFAULT_OPTIONS = {\n        /**\n         * X offset.\n         */\n        offsetX: 10,\n        /**\n         * Y offset.\n         */\n        offsetY: 10,\n        /**\n         * ID of the tooltip element.\n         */\n        id: EL_ID,\n        /**\n         * ID of the tooltip CSS style.\n         */\n        styleId: 'vega-tooltip-style',\n        /**\n         * The name of the theme. You can use the CSS class called [THEME]-theme to style the tooltips.\n         *\n         * There are two predefined themes: \"light\" (default) and \"dark\".\n         */\n        theme: 'light',\n        /**\n         * Do not use the default styles provided by Vega Tooltip. If you enable this option, you need to use your own styles. It is not necessary to disable the default style when using a custom theme.\n         */\n        disableDefaultStyle: false,\n        /**\n         * HTML sanitizer function that removes dangerous HTML to prevent XSS.\n         *\n         * This should be a function from string to string. You may replace it with a formatter such as a markdown formatter.\n         */\n        sanitize: escapeHTML,\n        /**\n         * The maximum recursion depth when printing objects in the tooltip.\n         */\n        maxDepth: 2\n    };\n    /**\n     * Escape special HTML characters.\n     *\n     * @param value A value to convert to string and HTML-escape.\n     */\n    function escapeHTML(value) {\n        return String(value)\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;');\n    }\n    function createDefaultStyle(id) {\n        // Just in case this id comes from a user, ensure these is no security issues\n        if (!/^[A-Za-z]+[-:.\\w]*$/.test(id)) {\n            throw new Error('Invalid HTML ID');\n        }\n        return defaultStyle.toString().replace(EL_ID, id);\n    }\n\n    function accessor(fn, fields, name) {\n      fn.fields = fields || [];\n      fn.fname = name;\n      return fn;\n    }\n\n    function error(message) {\n      throw Error(message);\n    }\n\n    function splitAccessPath(p) {\n      var path = [],\n          q = null,\n          b = 0,\n          n = p.length,\n          s = '',\n          i, j, c;\n\n      p = p + '';\n\n      function push() {\n        path.push(s + p.substring(i, j));\n        s = '';\n        i = j + 1;\n      }\n\n      for (i=j=0; j<n; ++j) {\n        c = p[j];\n        if (c === '\\\\') {\n          s += p.substring(i, j);\n          i = ++j;\n        } else if (c === q) {\n          push();\n          q = null;\n          b = -1;\n        } else if (q) {\n          continue;\n        } else if (i === b && c === '\"') {\n          i = j + 1;\n          q = c;\n        } else if (i === b && c === \"'\") {\n          i = j + 1;\n          q = c;\n        } else if (c === '.' && !b) {\n          if (j > i) {\n            push();\n          } else {\n            i = j + 1;\n          }\n        } else if (c === '[') {\n          if (j > i) push();\n          b = i = j + 1;\n        } else if (c === ']') {\n          if (!b) error('Access path missing open bracket: ' + p);\n          if (b > 0) push();\n          b = 0;\n          i = j + 1;\n        }\n      }\n\n      if (b) error('Access path missing closing bracket: ' + p);\n      if (q) error('Access path missing closing quote: ' + p);\n\n      if (j > i) {\n        j++;\n        push();\n      }\n\n      return path;\n    }\n\n    var isArray = Array.isArray;\n\n    function isObject(_) {\n      return _ === Object(_);\n    }\n\n    function isString(_) {\n      return typeof _ === 'string';\n    }\n\n    function $(x) {\n      return isArray(x) ? '[' + x.map($) + ']'\n        : isObject(x) || isString(x) ?\n          // Output valid JSON and JS source strings.\n          // See http://timelessrepo.com/json-isnt-a-javascript-subset\n          JSON.stringify(x).replace('\\u2028','\\\\u2028').replace('\\u2029', '\\\\u2029')\n        : x;\n    }\n\n    function field(field, name) {\n      var path = splitAccessPath(field),\n          code = 'return _[' + path.map($).join('][') + '];';\n\n      return accessor(\n        Function('_', code),\n        [(field = path.length===1 ? path[0] : field)],\n        name || field\n      );\n    }\n\n    var empty = [];\n\n    var id = field('id');\n\n    var identity = accessor(function(_) { return _; }, empty, 'identity');\n\n    var zero = accessor(function() { return 0; }, empty, 'zero');\n\n    var one = accessor(function() { return 1; }, empty, 'one');\n\n    var truthy = accessor(function() { return true; }, empty, 'true');\n\n    var falsy = accessor(function() { return false; }, empty, 'false');\n\n    var __rest = (undefined && undefined.__rest) || function (s, e) {\n        var t = {};\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n            t[p] = s[p];\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                    t[p[i]] = s[p[i]];\n            }\n        return t;\n    };\n    /**\n     * Format the value to be shown in the toolip.\n     *\n     * @param value The value to show in the tooltip.\n     * @param valueToHtml Function to convert a single cell value to an HTML string\n     */\n    function formatValue(value, valueToHtml, maxDepth) {\n        if (isArray(value)) {\n            return `[${value.map(v => valueToHtml(isString(v) ? v : stringify(v, maxDepth))).join(', ')}]`;\n        }\n        if (isObject(value)) {\n            let content = '';\n            const _a = value, { title } = _a, rest = __rest(_a, [\"title\"]);\n            if (title) {\n                content += `<h2>${valueToHtml(title)}</h2>`;\n            }\n            const keys = Object.keys(rest);\n            if (keys.length > 0) {\n                content += '<table>';\n                for (const key of keys) {\n                    let val = rest[key];\n                    // ignore undefined properties\n                    if (val === undefined) {\n                        continue;\n                    }\n                    if (isObject(val)) {\n                        val = stringify(val, maxDepth);\n                    }\n                    content += `<tr><td class=\"key\">${valueToHtml(key)}:</td><td class=\"value\">${valueToHtml(val)}</td></tr>`;\n                }\n                content += `</table>`;\n            }\n            return content || '{}'; // show empty object if there are no properties\n        }\n        return valueToHtml(value);\n    }\n    function replacer(maxDepth) {\n        const stack = [];\n        return function (key, value) {\n            if (typeof value !== 'object' || value === null) {\n                return value;\n            }\n            const pos = stack.indexOf(this) + 1;\n            stack.length = pos;\n            if (stack.length > maxDepth) {\n                return '[Object]';\n            }\n            if (stack.indexOf(value) >= 0) {\n                return '[Circular]';\n            }\n            stack.push(value);\n            return value;\n        };\n    }\n    /**\n     * Stringify any JS object to valid JSON\n     */\n    function stringify(obj, maxDepth) {\n        return JSON.stringify(obj, replacer(maxDepth));\n    }\n\n    /**\n     * Position the tooltip\n     *\n     * @param event The mouse event.\n     * @param tooltipBox\n     * @param offsetX Horizontal offset.\n     * @param offsetY Vertical offset.\n     */\n    function calculatePosition(event, tooltipBox, offsetX, offsetY) {\n        let x = event.clientX + offsetX;\n        if (x + tooltipBox.width > window.innerWidth) {\n            x = +event.clientX - offsetX - tooltipBox.width;\n        }\n        let y = event.clientY + offsetY;\n        if (y + tooltipBox.height > window.innerHeight) {\n            y = +event.clientY - offsetY - tooltipBox.height;\n        }\n        return { x, y };\n    }\n\n    /**\n     * The tooltip handler class.\n     */\n    class Handler {\n        /**\n         * Create the tooltip handler and initialize the element and style.\n         *\n         * @param options Tooltip Options\n         */\n        constructor(options) {\n            this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n            const elementId = this.options.id;\n            // bind this to call\n            this.call = this.tooltipHandler.bind(this);\n            // prepend a default stylesheet for tooltips to the head\n            if (!this.options.disableDefaultStyle && !document.getElementById(this.options.styleId)) {\n                const style = document.createElement('style');\n                style.setAttribute('id', this.options.styleId);\n                style.innerHTML = createDefaultStyle(elementId);\n                const head = document.head;\n                if (head.childNodes.length > 0) {\n                    head.insertBefore(style, head.childNodes[0]);\n                }\n                else {\n                    head.appendChild(style);\n                }\n            }\n            // append a div element that we use as a tooltip unless it already exists\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            this.el = document.getElementById(elementId);\n            if (!this.el) {\n                this.el = document.createElement('div');\n                this.el.setAttribute('id', elementId);\n                this.el.classList.add('vg-tooltip');\n                document.body.appendChild(this.el);\n            }\n        }\n        /**\n         * The tooltip handler function.\n         */\n        tooltipHandler(handler, event, item, value) {\n            // console.log(handler, event, item, value);\n            // hide tooltip for null, undefined, or empty string values\n            if (value == null || value === '') {\n                this.el.classList.remove('visible', `${this.options.theme}-theme`);\n                return;\n            }\n            // set the tooltip content\n            this.el.innerHTML = formatValue(value, this.options.sanitize, this.options.maxDepth);\n            // make the tooltip visible\n            this.el.classList.add('visible', `${this.options.theme}-theme`);\n            const { x, y } = calculatePosition(event, this.el.getBoundingClientRect(), this.options.offsetX, this.options.offsetY);\n            this.el.setAttribute('style', `top: ${y}px; left: ${x}px`);\n        }\n    }\n\n    const version$1 = pkg.version;\n    /**\n     * Create a tooltip handler and register it with the provided view.\n     *\n     * @param view The Vega view.\n     * @param opt Tooltip options.\n     */\n    function index (view, opt) {\n        const handler = new Handler(opt);\n        view.tooltip(handler.call).run();\n        return handler;\n    }\n\n    exports.DEFAULT_OPTIONS = DEFAULT_OPTIONS;\n    exports.Handler = Handler;\n    exports.calculatePosition = calculatePosition;\n    exports.createDefaultStyle = createDefaultStyle;\n    exports.default = index;\n    exports.escapeHTML = escapeHTML;\n    exports.formatValue = formatValue;\n    exports.replacer = replacer;\n    exports.stringify = stringify;\n    exports.version = version$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=vega-tooltip.js.map\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["call","tooltipHandler","innerHTML","Handler","el","x","__esModule","id","escapeHTML","DEFAULT_OPTIONS","value","vegaTooltip","disableDefaultStyle","createDefaultStyle","length","calculatePosition","styleId","y","stringify","version","fields","offsetX","formatValue","theme","replacer","options","fname","offsetY","default","maxDepth","sanitize"]],"~:compiled-at",1600144480158,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$vega_tooltip$build$vega_tooltip.js\",\n\"lineCount\":12,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/vega-tooltip/build/vega-tooltip.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$vega_tooltip$build$vega_tooltip\\\"] = function(global,require,module,exports) {\\n(function (global, factory) {\\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\\n    (global = global || self, factory(global.vegaTooltip = {}));\\n}(this, function (exports) { 'use strict';\\n\\n    var name = \\\"vega-tooltip\\\";\\n    var version = \\\"0.18.1\\\";\\n    var description = \\\"A tooltip plugin for Vega-Lite and Vega visualizations.\\\";\\n    var main = \\\"build/vega-tooltip.js\\\";\\n    var module = \\\"build/src/index.js\\\";\\n    var unpkg = \\\"build/vega-tooltip.min.js\\\";\\n    var jsdelivr = \\\"build/vega-tooltip.min.js\\\";\\n    var typings = \\\"build/src/index.d.ts\\\";\\n    var repository = {\\n    \\ttype: \\\"git\\\",\\n    \\turl: \\\"https://github.com/vega/vega-tooltip.git\\\"\\n    };\\n    var keywords = [\\n    \\t\\\"vega-lite\\\",\\n    \\t\\\"vega\\\",\\n    \\t\\\"tooltip\\\"\\n    ];\\n    var author = {\\n    \\tname: \\\"UW Interactive Data Lab\\\",\\n    \\turl: \\\"https://idl.cs.washington.edu\\\"\\n    };\\n    var collaborators = [\\n    \\t\\\"Dominik Moritz\\\",\\n    \\t\\\"Sira Horradarn\\\",\\n    \\t\\\"Zening Qu\\\",\\n    \\t\\\"Kanit Wongsuphasawat\\\",\\n    \\t\\\"Yuri Astrakhan\\\",\\n    \\t\\\"Jeffrey Heer\\\"\\n    ];\\n    var license = \\\"BSD-3-Clause\\\";\\n    var bugs = {\\n    \\turl: \\\"https://github.com/vega/vega-tooltip/issues\\\"\\n    };\\n    var homepage = \\\"https://github.com/vega/vega-tooltip#readme\\\";\\n    var scripts = {\\n    \\tprepare: \\\"beemo create-config --silent\\\",\\n    \\tbuild: \\\"rollup -c\\\",\\n    \\tclean: \\\"rm -rf build examples/data && rm -f src/style.ts && mkdir build\\\",\\n    \\t\\\"copy:data\\\": \\\"rsync -r node_modules/vega-datasets/data/* examples/data\\\",\\n    \\t\\\"copy:build\\\": \\\"rsync -r build/* examples/build\\\",\\n    \\t\\\"deploy:gh\\\": \\\"yarn build && yarn copy:build && gh-pages -d examples && yarn clean\\\",\\n    \\tprettierbase: \\\"beemo prettier 'examples/*.{html,scss,css}'\\\",\\n    \\teslintbase: \\\"beemo eslint '{src,test,typings}/**/*.ts' '*.js'\\\",\\n    \\tformat: \\\"yarn eslintbase --fix && yarn prettierbase --write\\\",\\n    \\tlint: \\\"yarn eslintbase && yarn prettierbase --check\\\",\\n    \\tpostbuild: \\\"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js\\\",\\n    \\tprebuild: \\\"yarn clean && yarn copy:data && ./build-style.sh && tsc\\\",\\n    \\tprepublishOnly: \\\"yarn build\\\",\\n    \\tpreversion: \\\"yarn lint\\\",\\n    \\tstart: \\\"yarn build && concurrently --kill-others -n Server,Typescript,Rollup 'browser-sync start -s -f build examples --serveStatic examples' 'tsc -w' 'rollup -c -w'\\\",\\n    \\tpretest: \\\"./build-style.sh\\\",\\n    \\ttest: \\\"jest\\\"\\n    };\\n    var devDependencies = {\\n    \\t\\\"@types/jest\\\": \\\"^24.0.15\\\",\\n    \\t\\\"@types/node\\\": \\\"^12.6.8\\\",\\n    \\t\\\"browser-sync\\\": \\\"^2.26.7\\\",\\n    \\tconcurrently: \\\"^4.1.1\\\",\\n    \\t\\\"gh-pages\\\": \\\"^2.0.1\\\",\\n    \\tjest: \\\"^24.8.0\\\",\\n    \\t\\\"node-sass\\\": \\\"^4.12.0\\\",\\n    \\tpath: \\\"^0.12.7\\\",\\n    \\trollup: \\\"^1.17.0\\\",\\n    \\t\\\"rollup-plugin-commonjs\\\": \\\"^10.0.1\\\",\\n    \\t\\\"rollup-plugin-json\\\": \\\"^4.0.0\\\",\\n    \\t\\\"rollup-plugin-node-resolve\\\": \\\"^5.2.0\\\",\\n    \\tterser: \\\"^4.1.2\\\",\\n    \\t\\\"ts-jest\\\": \\\"^24.0.2\\\",\\n    \\ttypescript: \\\"^3.5.3\\\",\\n    \\t\\\"vega-datasets\\\": \\\"^1.25.0\\\",\\n    \\t\\\"vega-lite-dev-config\\\": \\\"^0.1.16\\\",\\n    \\t\\\"vega-typings\\\": \\\"^0.7.2\\\"\\n    };\\n    var dependencies = {\\n    \\t\\\"vega-util\\\": \\\"^1.10.0\\\"\\n    };\\n    var beemo = {\\n    \\tmodule: \\\"vega-lite-dev-config\\\",\\n    \\tdrivers: [\\n    \\t\\t\\\"prettier\\\",\\n    \\t\\t\\\"eslint\\\"\\n    \\t]\\n    };\\n    var jest = {\\n    \\ttestURL: \\\"http://localhost/\\\",\\n    \\ttransform: {\\n    \\t\\t\\\"^.+\\\\\\\\.tsx?$\\\": \\\"ts-jest\\\"\\n    \\t},\\n    \\ttestRegex: \\\"(/__tests__/.*|(\\\\\\\\.|/)(test|spec))\\\\\\\\.(jsx?|tsx?)$\\\",\\n    \\tmoduleFileExtensions: [\\n    \\t\\t\\\"ts\\\",\\n    \\t\\t\\\"tsx\\\",\\n    \\t\\t\\\"js\\\",\\n    \\t\\t\\\"jsx\\\",\\n    \\t\\t\\\"json\\\",\\n    \\t\\t\\\"node\\\"\\n    \\t],\\n    \\ttestPathIgnorePatterns: [\\n    \\t\\t\\\"node_modules\\\",\\n    \\t\\t\\\"<rootDir>/build\\\",\\n    \\t\\t\\\"src\\\"\\n    \\t]\\n    };\\n    var pkg = {\\n    \\tname: name,\\n    \\tversion: version,\\n    \\tdescription: description,\\n    \\tmain: main,\\n    \\tmodule: module,\\n    \\tunpkg: unpkg,\\n    \\tjsdelivr: jsdelivr,\\n    \\ttypings: typings,\\n    \\trepository: repository,\\n    \\tkeywords: keywords,\\n    \\tauthor: author,\\n    \\tcollaborators: collaborators,\\n    \\tlicense: license,\\n    \\tbugs: bugs,\\n    \\thomepage: homepage,\\n    \\tscripts: scripts,\\n    \\tdevDependencies: devDependencies,\\n    \\tdependencies: dependencies,\\n    \\tbeemo: beemo,\\n    \\tjest: jest\\n    };\\n\\n    // generated with build-style.sh\\n    var defaultStyle = `#vg-tooltip-element {\\n  visibility: hidden;\\n  padding: 8px;\\n  position: fixed;\\n  z-index: 1000;\\n  font-family: sans-serif;\\n  font-size: 11px;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n  /* The default theme is the light theme. */\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border: 1px solid #d9d9d9;\\n  color: black; }\\n  #vg-tooltip-element.visible {\\n    visibility: visible; }\\n  #vg-tooltip-element h2 {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 13px; }\\n  #vg-tooltip-element table {\\n    border-spacing: 0; }\\n    #vg-tooltip-element table tr {\\n      border: none; }\\n      #vg-tooltip-element table tr td {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        padding-top: 2px;\\n        padding-bottom: 2px; }\\n        #vg-tooltip-element table tr td.key {\\n          color: #808080;\\n          max-width: 150px;\\n          text-align: right;\\n          padding-right: 4px; }\\n        #vg-tooltip-element table tr td.value {\\n          display: block;\\n          max-width: 300px;\\n          max-height: 7em;\\n          text-align: left; }\\n  #vg-tooltip-element.dark-theme {\\n    background-color: rgba(32, 32, 32, 0.9);\\n    border: 1px solid #f5f5f5;\\n    color: white; }\\n    #vg-tooltip-element.dark-theme td.key {\\n      color: #bfbfbf; }\\n`;\\n\\n    const EL_ID = 'vg-tooltip-element';\\n    const DEFAULT_OPTIONS = {\\n        /**\\n         * X offset.\\n         */\\n        offsetX: 10,\\n        /**\\n         * Y offset.\\n         */\\n        offsetY: 10,\\n        /**\\n         * ID of the tooltip element.\\n         */\\n        id: EL_ID,\\n        /**\\n         * ID of the tooltip CSS style.\\n         */\\n        styleId: 'vega-tooltip-style',\\n        /**\\n         * The name of the theme. You can use the CSS class called [THEME]-theme to style the tooltips.\\n         *\\n         * There are two predefined themes: \\\"light\\\" (default) and \\\"dark\\\".\\n         */\\n        theme: 'light',\\n        /**\\n         * Do not use the default styles provided by Vega Tooltip. If you enable this option, you need to use your own styles. It is not necessary to disable the default style when using a custom theme.\\n         */\\n        disableDefaultStyle: false,\\n        /**\\n         * HTML sanitizer function that removes dangerous HTML to prevent XSS.\\n         *\\n         * This should be a function from string to string. You may replace it with a formatter such as a markdown formatter.\\n         */\\n        sanitize: escapeHTML,\\n        /**\\n         * The maximum recursion depth when printing objects in the tooltip.\\n         */\\n        maxDepth: 2\\n    };\\n    /**\\n     * Escape special HTML characters.\\n     *\\n     * @param value A value to convert to string and HTML-escape.\\n     */\\n    function escapeHTML(value) {\\n        return String(value)\\n            .replace(/&/g, '&amp;')\\n            .replace(/</g, '&lt;');\\n    }\\n    function createDefaultStyle(id) {\\n        // Just in case this id comes from a user, ensure these is no security issues\\n        if (!/^[A-Za-z]+[-:.\\\\w]*$/.test(id)) {\\n            throw new Error('Invalid HTML ID');\\n        }\\n        return defaultStyle.toString().replace(EL_ID, id);\\n    }\\n\\n    function accessor(fn, fields, name) {\\n      fn.fields = fields || [];\\n      fn.fname = name;\\n      return fn;\\n    }\\n\\n    function error(message) {\\n      throw Error(message);\\n    }\\n\\n    function splitAccessPath(p) {\\n      var path = [],\\n          q = null,\\n          b = 0,\\n          n = p.length,\\n          s = '',\\n          i, j, c;\\n\\n      p = p + '';\\n\\n      function push() {\\n        path.push(s + p.substring(i, j));\\n        s = '';\\n        i = j + 1;\\n      }\\n\\n      for (i=j=0; j<n; ++j) {\\n        c = p[j];\\n        if (c === '\\\\\\\\') {\\n          s += p.substring(i, j);\\n          i = ++j;\\n        } else if (c === q) {\\n          push();\\n          q = null;\\n          b = -1;\\n        } else if (q) {\\n          continue;\\n        } else if (i === b && c === '\\\"') {\\n          i = j + 1;\\n          q = c;\\n        } else if (i === b && c === \\\"'\\\") {\\n          i = j + 1;\\n          q = c;\\n        } else if (c === '.' && !b) {\\n          if (j > i) {\\n            push();\\n          } else {\\n            i = j + 1;\\n          }\\n        } else if (c === '[') {\\n          if (j > i) push();\\n          b = i = j + 1;\\n        } else if (c === ']') {\\n          if (!b) error('Access path missing open bracket: ' + p);\\n          if (b > 0) push();\\n          b = 0;\\n          i = j + 1;\\n        }\\n      }\\n\\n      if (b) error('Access path missing closing bracket: ' + p);\\n      if (q) error('Access path missing closing quote: ' + p);\\n\\n      if (j > i) {\\n        j++;\\n        push();\\n      }\\n\\n      return path;\\n    }\\n\\n    var isArray = Array.isArray;\\n\\n    function isObject(_) {\\n      return _ === Object(_);\\n    }\\n\\n    function isString(_) {\\n      return typeof _ === 'string';\\n    }\\n\\n    function $(x) {\\n      return isArray(x) ? '[' + x.map($) + ']'\\n        : isObject(x) || isString(x) ?\\n          // Output valid JSON and JS source strings.\\n          // See http://timelessrepo.com/json-isnt-a-javascript-subset\\n          JSON.stringify(x).replace('\\\\u2028','\\\\\\\\u2028').replace('\\\\u2029', '\\\\\\\\u2029')\\n        : x;\\n    }\\n\\n    function field(field, name) {\\n      var path = splitAccessPath(field),\\n          code = 'return _[' + path.map($).join('][') + '];';\\n\\n      return accessor(\\n        Function('_', code),\\n        [(field = path.length===1 ? path[0] : field)],\\n        name || field\\n      );\\n    }\\n\\n    var empty = [];\\n\\n    var id = field('id');\\n\\n    var identity = accessor(function(_) { return _; }, empty, 'identity');\\n\\n    var zero = accessor(function() { return 0; }, empty, 'zero');\\n\\n    var one = accessor(function() { return 1; }, empty, 'one');\\n\\n    var truthy = accessor(function() { return true; }, empty, 'true');\\n\\n    var falsy = accessor(function() { return false; }, empty, 'false');\\n\\n    var __rest = (undefined && undefined.__rest) || function (s, e) {\\n        var t = {};\\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\\n            t[p] = s[p];\\n        if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\")\\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\\n                    t[p[i]] = s[p[i]];\\n            }\\n        return t;\\n    };\\n    /**\\n     * Format the value to be shown in the toolip.\\n     *\\n     * @param value The value to show in the tooltip.\\n     * @param valueToHtml Function to convert a single cell value to an HTML string\\n     */\\n    function formatValue(value, valueToHtml, maxDepth) {\\n        if (isArray(value)) {\\n            return `[${value.map(v => valueToHtml(isString(v) ? v : stringify(v, maxDepth))).join(', ')}]`;\\n        }\\n        if (isObject(value)) {\\n            let content = '';\\n            const _a = value, { title } = _a, rest = __rest(_a, [\\\"title\\\"]);\\n            if (title) {\\n                content += `<h2>${valueToHtml(title)}</h2>`;\\n            }\\n            const keys = Object.keys(rest);\\n            if (keys.length > 0) {\\n                content += '<table>';\\n                for (const key of keys) {\\n                    let val = rest[key];\\n                    // ignore undefined properties\\n                    if (val === undefined) {\\n                        continue;\\n                    }\\n                    if (isObject(val)) {\\n                        val = stringify(val, maxDepth);\\n                    }\\n                    content += `<tr><td class=\\\"key\\\">${valueToHtml(key)}:</td><td class=\\\"value\\\">${valueToHtml(val)}</td></tr>`;\\n                }\\n                content += `</table>`;\\n            }\\n            return content || '{}'; // show empty object if there are no properties\\n        }\\n        return valueToHtml(value);\\n    }\\n    function replacer(maxDepth) {\\n        const stack = [];\\n        return function (key, value) {\\n            if (typeof value !== 'object' || value === null) {\\n                return value;\\n            }\\n            const pos = stack.indexOf(this) + 1;\\n            stack.length = pos;\\n            if (stack.length > maxDepth) {\\n                return '[Object]';\\n            }\\n            if (stack.indexOf(value) >= 0) {\\n                return '[Circular]';\\n            }\\n            stack.push(value);\\n            return value;\\n        };\\n    }\\n    /**\\n     * Stringify any JS object to valid JSON\\n     */\\n    function stringify(obj, maxDepth) {\\n        return JSON.stringify(obj, replacer(maxDepth));\\n    }\\n\\n    /**\\n     * Position the tooltip\\n     *\\n     * @param event The mouse event.\\n     * @param tooltipBox\\n     * @param offsetX Horizontal offset.\\n     * @param offsetY Vertical offset.\\n     */\\n    function calculatePosition(event, tooltipBox, offsetX, offsetY) {\\n        let x = event.clientX + offsetX;\\n        if (x + tooltipBox.width > window.innerWidth) {\\n            x = +event.clientX - offsetX - tooltipBox.width;\\n        }\\n        let y = event.clientY + offsetY;\\n        if (y + tooltipBox.height > window.innerHeight) {\\n            y = +event.clientY - offsetY - tooltipBox.height;\\n        }\\n        return { x, y };\\n    }\\n\\n    /**\\n     * The tooltip handler class.\\n     */\\n    class Handler {\\n        /**\\n         * Create the tooltip handler and initialize the element and style.\\n         *\\n         * @param options Tooltip Options\\n         */\\n        constructor(options) {\\n            this.options = Object.assign({}, DEFAULT_OPTIONS, options);\\n            const elementId = this.options.id;\\n            // bind this to call\\n            this.call = this.tooltipHandler.bind(this);\\n            // prepend a default stylesheet for tooltips to the head\\n            if (!this.options.disableDefaultStyle && !document.getElementById(this.options.styleId)) {\\n                const style = document.createElement('style');\\n                style.setAttribute('id', this.options.styleId);\\n                style.innerHTML = createDefaultStyle(elementId);\\n                const head = document.head;\\n                if (head.childNodes.length > 0) {\\n                    head.insertBefore(style, head.childNodes[0]);\\n                }\\n                else {\\n                    head.appendChild(style);\\n                }\\n            }\\n            // append a div element that we use as a tooltip unless it already exists\\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\\n            this.el = document.getElementById(elementId);\\n            if (!this.el) {\\n                this.el = document.createElement('div');\\n                this.el.setAttribute('id', elementId);\\n                this.el.classList.add('vg-tooltip');\\n                document.body.appendChild(this.el);\\n            }\\n        }\\n        /**\\n         * The tooltip handler function.\\n         */\\n        tooltipHandler(handler, event, item, value) {\\n            // console.log(handler, event, item, value);\\n            // hide tooltip for null, undefined, or empty string values\\n            if (value == null || value === '') {\\n                this.el.classList.remove('visible', `${this.options.theme}-theme`);\\n                return;\\n            }\\n            // set the tooltip content\\n            this.el.innerHTML = formatValue(value, this.options.sanitize, this.options.maxDepth);\\n            // make the tooltip visible\\n            this.el.classList.add('visible', `${this.options.theme}-theme`);\\n            const { x, y } = calculatePosition(event, this.el.getBoundingClientRect(), this.options.offsetX, this.options.offsetY);\\n            this.el.setAttribute('style', `top: ${y}px; left: ${x}px`);\\n        }\\n    }\\n\\n    const version$1 = pkg.version;\\n    /**\\n     * Create a tooltip handler and register it with the provided view.\\n     *\\n     * @param view The Vega view.\\n     * @param opt Tooltip options.\\n     */\\n    function index (view, opt) {\\n        const handler = new Handler(opt);\\n        view.tooltip(handler.call).run();\\n        return handler;\\n    }\\n\\n    exports.DEFAULT_OPTIONS = DEFAULT_OPTIONS;\\n    exports.Handler = Handler;\\n    exports.calculatePosition = calculatePosition;\\n    exports.createDefaultStyle = createDefaultStyle;\\n    exports.default = index;\\n    exports.escapeHTML = escapeHTML;\\n    exports.formatValue = formatValue;\\n    exports.replacer = replacer;\\n    exports.stringify = stringify;\\n    exports.version = version$1;\\n\\n    Object.defineProperty(exports, '__esModule', { value: true });\\n\\n}));\\n//# sourceMappingURL=vega-tooltip.js.map\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"factory\",\"define\",\"amd\",\"self\",\"vegaTooltip\",\"escapeHTML\",\"value\",\"String\",\"replace\",\"createDefaultStyle\",\"id\",\"test\",\"Error\",\"defaultStyle\",\"toString\",\"EL_ID\",\"accessor\",\"fn\",\"fields\",\"name\",\"fname\",\"splitAccessPath\",\"p\",\"push\",\"path\",\"s\",\"substring\",\"i\",\"j\",\"q\",\"b\",\"n\",\"length\",\"c\",\"$\",\"x\",\"isArray\",\"map\",\"Object\",\"JSON\",\"stringify\",\"formatValue\",\"valueToHtml\",\"maxDepth\",\"v\",\"join\",\"content\",\"title\",\"rest\",\"__rest\",\"keys\",\"key\",\"val\",\"undefined\",\"replacer\",\"stack\",\"pos\",\"indexOf\",\"obj\",\"calculatePosition\",\"event\",\"tooltipBox\",\"offsetX\",\"offsetY\",\"clientX\",\"width\",\"window\",\"innerWidth\",\"y\",\"clientY\",\"height\",\"innerHeight\",\"DEFAULT_OPTIONS\",\"styleId\",\"theme\",\"disableDefaultStyle\",\"sanitize\",\"Array\",\"empty\",\"field\",\"code\",\"Function\",\"_\",\"e\",\"t\",\"prototype\",\"hasOwnProperty\",\"call\",\"getOwnPropertySymbols\",\"propertyIsEnumerable\",\"Handler\",\"constructor\",\"options\",\"assign\",\"elementId\",\"tooltipHandler\",\"bind\",\"document\",\"getElementById\",\"style\",\"createElement\",\"setAttribute\",\"innerHTML\",\"head\",\"childNodes\",\"insertBefore\",\"appendChild\",\"el\",\"classList\",\"add\",\"body\",\"handler\",\"item\",\"remove\",\"getBoundingClientRect\",\"default\",\"index\",\"view\",\"opt\",\"tooltip\",\"run\",\"version\",\"defineProperty\"]\n}\n"]