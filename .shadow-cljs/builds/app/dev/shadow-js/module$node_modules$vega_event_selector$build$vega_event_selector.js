["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/vega-event-selector/build/vega-event-selector.js"],"~:js","shadow$provide.module$node_modules$vega_event_selector$build$vega_event_selector=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\"object\"===typeof exports$jscomp$0&&\"undefined\"!==typeof module?factory(exports$jscomp$0):\"function\"===typeof define&&define.amd?define([\"exports\"],factory):(global=\"undefined\"!==typeof globalThis?globalThis:global||self,factory(global.vega={}))})(this,function(exports){function find(s,i,endChar,pushChar,popChar){for(var n=s.length,count=\n0,c;i<n;++i)if(c=s[i],count||c!==endChar)popChar&&0<=popChar.indexOf(c)?--count:pushChar&&0<=pushChar.indexOf(c)&&++count;else break;return i}function parseMerge(s){for(var output=[],n=s.length,start=0,i=0;i<n;)i=find(s,i,\",\",\"[{\",\"]}\"),output.push(s.substring(start,i).trim()),start=++i;if(0===output.length)throw\"Empty event selector: \"+s;return output}function parseSelector(s){if(\"[\"===s[0]){var JSCompiler_temp=s;var n=JSCompiler_temp.length;s=find(JSCompiler_temp,1,\"]\",\"[\",\"]\");if(s===n)throw\"Empty between selector: \"+\nJSCompiler_temp;n=parseMerge(JSCompiler_temp.substring(1,s));if(2!==n.length)throw\"Between selector must have two elements: \"+JSCompiler_temp;JSCompiler_temp=JSCompiler_temp.slice(s+1).trim();if(\"\\x3e\"!==JSCompiler_temp[0])throw\"Expected '\\x3e' after between selector: \"+JSCompiler_temp;n=n.map(parseSelector);JSCompiler_temp=parseSelector(JSCompiler_temp.slice(1).trim());JSCompiler_temp.between?JSCompiler_temp={between:n,stream:JSCompiler_temp}:JSCompiler_temp.between=n}else{n={source:DEFAULT_SOURCE};\nvar source=[],throttle=[0,0],markname=0,start=0,n$jscomp$0=s.length,i=0;if(\"}\"===s[n$jscomp$0-1]){i=s.lastIndexOf(\"{\");if(0<=i){try{throttle=parseThrottle(s.substring(i+1,n$jscomp$0-1))}catch(e){throw\"Invalid throttle specification: \"+s;}s=s.slice(0,i).trim();n$jscomp$0=s.length}else throw\"Unmatched right brace: \"+s;i=0}if(!n$jscomp$0)throw s;\"@\"===s[0]&&(markname=++i);var j=find(s,i,\":\");j<n$jscomp$0&&(source.push(s.substring(start,j).trim()),start=i=++j);i=find(s,i,\"[\");if(i===n$jscomp$0)source.push(s.substring(start,\nn$jscomp$0).trim());else if(source.push(s.substring(start,i).trim()),JSCompiler_temp=[],start=++i,start===n$jscomp$0)throw\"Unmatched left bracket: \"+s;for(;i<n$jscomp$0;){i=find(s,i,\"]\");if(i===n$jscomp$0)throw\"Unmatched left bracket: \"+s;JSCompiler_temp.push(s.substring(start,i).trim());if(i<n$jscomp$0-1&&\"[\"!==s[++i])throw\"Expected left bracket: \"+s;start=++i}if(!(n$jscomp$0=source.length)||ILLEGAL.test(source[n$jscomp$0-1]))throw\"Invalid event selector: \"+s;1<n$jscomp$0?(n.type=source[1],markname?\nn.markname=source[0].slice(1):MARKS[source[0]]?n.marktype=source[0]:n.source=source[0]):n.type=source[0];\"!\"===n.type.slice(-1)&&(n.consume=!0,n.type=n.type.slice(0,-1));null!=JSCompiler_temp&&(n.filter=JSCompiler_temp);throttle[0]&&(n.throttle=throttle[0]);throttle[1]&&(n.debounce=throttle[1]);JSCompiler_temp=n}return JSCompiler_temp}function parseThrottle(s){var a=s.split(\",\");if(!s.length||2<a.length)throw s;return a.map(function(_){_=+_;if(_!==_)throw s;return _})}var ILLEGAL=/[[\\]{}]/,DEFAULT_MARKS=\n{\"*\":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},DEFAULT_SOURCE,MARKS;exports.selector=function(selector,source,marks){DEFAULT_SOURCE=source||\"view\";MARKS=marks||DEFAULT_MARKS;return parseMerge(selector.trim()).map(parseSelector)};Object.defineProperty(exports,\"__esModule\",{value:!0})})}","~:source","shadow$provide[\"module$node_modules$vega_event_selector$build$vega_event_selector\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}));\n}(this, (function (exports) { 'use strict';\n\n  const VIEW    = 'view',\n        LBRACK  = '[',\n        RBRACK  = ']',\n        LBRACE  = '{',\n        RBRACE  = '}',\n        COLON   = ':',\n        COMMA   = ',',\n        NAME    = '@',\n        GT      = '>',\n        ILLEGAL = /[[\\]{}]/,\n        DEFAULT_MARKS = {\n          '*': 1,\n          arc: 1,\n          area: 1,\n          group: 1,\n          image: 1,\n          line: 1,\n          path: 1,\n          rect: 1,\n          rule: 1,\n          shape: 1,\n          symbol: 1,\n          text: 1,\n          trail: 1\n        };\n\n  let DEFAULT_SOURCE,\n      MARKS;\n\n  /**\n   * Parse an event selector string.\n   * Returns an array of event stream definitions.\n   */\n  function eventSelector(selector, source, marks) {\n    DEFAULT_SOURCE = source || VIEW;\n    MARKS = marks || DEFAULT_MARKS;\n    return parseMerge(selector.trim()).map(parseSelector);\n  }\n\n  function isMarkType(type) {\n    return MARKS[type];\n  }\n\n  function find(s, i, endChar, pushChar, popChar) {\n    const n = s.length;\n    let count = 0, c;\n\n    for (; i < n; ++i) {\n      c = s[i];\n      if (!count && c === endChar) return i;\n      else if (popChar && popChar.indexOf(c) >= 0) --count;\n      else if (pushChar && pushChar.indexOf(c) >= 0) ++count;\n    }\n    return i;\n  }\n\n  function parseMerge(s) {\n    const output = [],\n          n = s.length;\n    let start = 0, i = 0;\n\n    while (i < n) {\n      i = find(s, i, COMMA, LBRACK + LBRACE, RBRACK + RBRACE);\n      output.push(s.substring(start, i).trim());\n      start = ++i;\n    }\n\n    if (output.length === 0) {\n      throw 'Empty event selector: ' + s;\n    }\n    return output;\n  }\n\n  function parseSelector(s) {\n    return s[0] === '['\n      ? parseBetween(s)\n      : parseStream(s);\n  }\n\n  function parseBetween(s) {\n    const n = s.length;\n    let i = 1, b;\n\n    i = find(s, i, RBRACK, LBRACK, RBRACK);\n    if (i === n) {\n      throw 'Empty between selector: ' + s;\n    }\n\n    b = parseMerge(s.substring(1, i));\n    if (b.length !== 2) {\n      throw 'Between selector must have two elements: ' + s;\n    }\n\n    s = s.slice(i + 1).trim();\n    if (s[0] !== GT) {\n      throw 'Expected \\'>\\' after between selector: ' + s;\n    }\n\n    b = b.map(parseSelector);\n\n    const stream = parseSelector(s.slice(1).trim());\n    if (stream.between) {\n      return {\n        between: b,\n        stream: stream\n      };\n    } else {\n      stream.between = b;\n    }\n\n    return stream;\n  }\n\n  function parseStream(s) {\n    const stream = {source: DEFAULT_SOURCE},\n          source = [];\n\n    let throttle = [0, 0],\n        markname = 0,\n        start = 0,\n        n = s.length,\n        i = 0, j,\n        filter;\n\n    // extract throttle from end\n    if (s[n-1] === RBRACE) {\n      i = s.lastIndexOf(LBRACE);\n      if (i >= 0) {\n        try {\n          throttle = parseThrottle(s.substring(i+1, n-1));\n        } catch (e) {\n          throw 'Invalid throttle specification: ' + s;\n        }\n        s = s.slice(0, i).trim();\n        n = s.length;\n      } else throw 'Unmatched right brace: ' + s;\n      i = 0;\n    }\n\n    if (!n) throw s;\n\n    // set name flag based on first char\n    if (s[0] === NAME) markname = ++i;\n\n    // extract first part of multi-part stream selector\n    j = find(s, i, COLON);\n    if (j < n) {\n      source.push(s.substring(start, j).trim());\n      start = i = ++j;\n    }\n\n    // extract remaining part of stream selector\n    i = find(s, i, LBRACK);\n    if (i === n) {\n      source.push(s.substring(start, n).trim());\n    } else {\n      source.push(s.substring(start, i).trim());\n      filter = [];\n      start = ++i;\n      if (start === n) throw 'Unmatched left bracket: ' + s;\n    }\n\n    // extract filters\n    while (i < n) {\n      i = find(s, i, RBRACK);\n      if (i === n) throw 'Unmatched left bracket: ' + s;\n      filter.push(s.substring(start, i).trim());\n      if (i < n-1 && s[++i] !== LBRACK) throw 'Expected left bracket: ' + s;\n      start = ++i;\n    }\n\n    // marshall event stream specification\n    if (!(n = source.length) || ILLEGAL.test(source[n-1])) {\n      throw 'Invalid event selector: ' + s;\n    }\n\n    if (n > 1) {\n      stream.type = source[1];\n      if (markname) {\n        stream.markname = source[0].slice(1);\n      } else if (isMarkType(source[0])) {\n        stream.marktype = source[0];\n      } else {\n        stream.source = source[0];\n      }\n    } else {\n      stream.type = source[0];\n    }\n    if (stream.type.slice(-1) === '!') {\n      stream.consume = true;\n      stream.type = stream.type.slice(0, -1);\n    }\n    if (filter != null) stream.filter = filter;\n    if (throttle[0]) stream.throttle = throttle[0];\n    if (throttle[1]) stream.debounce = throttle[1];\n\n    return stream;\n  }\n\n  function parseThrottle(s) {\n    const a = s.split(COMMA);\n    if (!s.length || a.length > 2) throw s;\n    return a.map(_ => {\n      const x = +_;\n      if (x !== x) throw s;\n      return x;\n    });\n  }\n\n  exports.selector = eventSelector;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["trail","consume","stream","rule","debounce","shape","area","group","image","__esModule","path","vega","value","text","filter","symbol","arc","line","source","type","between","marktype","rect","selector","markname","throttle"]],"~:compiled-at",1600144480032,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$vega_event_selector$build$vega_event_selector.js\",\n\"lineCount\":7,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/vega-event-selector/build/vega-event-selector.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$vega_event_selector$build$vega_event_selector\\\"] = function(global,require,module,exports) {\\n(function (global, factory) {\\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}));\\n}(this, (function (exports) { 'use strict';\\n\\n  const VIEW    = 'view',\\n        LBRACK  = '[',\\n        RBRACK  = ']',\\n        LBRACE  = '{',\\n        RBRACE  = '}',\\n        COLON   = ':',\\n        COMMA   = ',',\\n        NAME    = '@',\\n        GT      = '>',\\n        ILLEGAL = /[[\\\\]{}]/,\\n        DEFAULT_MARKS = {\\n          '*': 1,\\n          arc: 1,\\n          area: 1,\\n          group: 1,\\n          image: 1,\\n          line: 1,\\n          path: 1,\\n          rect: 1,\\n          rule: 1,\\n          shape: 1,\\n          symbol: 1,\\n          text: 1,\\n          trail: 1\\n        };\\n\\n  let DEFAULT_SOURCE,\\n      MARKS;\\n\\n  /**\\n   * Parse an event selector string.\\n   * Returns an array of event stream definitions.\\n   */\\n  function eventSelector(selector, source, marks) {\\n    DEFAULT_SOURCE = source || VIEW;\\n    MARKS = marks || DEFAULT_MARKS;\\n    return parseMerge(selector.trim()).map(parseSelector);\\n  }\\n\\n  function isMarkType(type) {\\n    return MARKS[type];\\n  }\\n\\n  function find(s, i, endChar, pushChar, popChar) {\\n    const n = s.length;\\n    let count = 0, c;\\n\\n    for (; i < n; ++i) {\\n      c = s[i];\\n      if (!count && c === endChar) return i;\\n      else if (popChar && popChar.indexOf(c) >= 0) --count;\\n      else if (pushChar && pushChar.indexOf(c) >= 0) ++count;\\n    }\\n    return i;\\n  }\\n\\n  function parseMerge(s) {\\n    const output = [],\\n          n = s.length;\\n    let start = 0, i = 0;\\n\\n    while (i < n) {\\n      i = find(s, i, COMMA, LBRACK + LBRACE, RBRACK + RBRACE);\\n      output.push(s.substring(start, i).trim());\\n      start = ++i;\\n    }\\n\\n    if (output.length === 0) {\\n      throw 'Empty event selector: ' + s;\\n    }\\n    return output;\\n  }\\n\\n  function parseSelector(s) {\\n    return s[0] === '['\\n      ? parseBetween(s)\\n      : parseStream(s);\\n  }\\n\\n  function parseBetween(s) {\\n    const n = s.length;\\n    let i = 1, b;\\n\\n    i = find(s, i, RBRACK, LBRACK, RBRACK);\\n    if (i === n) {\\n      throw 'Empty between selector: ' + s;\\n    }\\n\\n    b = parseMerge(s.substring(1, i));\\n    if (b.length !== 2) {\\n      throw 'Between selector must have two elements: ' + s;\\n    }\\n\\n    s = s.slice(i + 1).trim();\\n    if (s[0] !== GT) {\\n      throw 'Expected \\\\'>\\\\' after between selector: ' + s;\\n    }\\n\\n    b = b.map(parseSelector);\\n\\n    const stream = parseSelector(s.slice(1).trim());\\n    if (stream.between) {\\n      return {\\n        between: b,\\n        stream: stream\\n      };\\n    } else {\\n      stream.between = b;\\n    }\\n\\n    return stream;\\n  }\\n\\n  function parseStream(s) {\\n    const stream = {source: DEFAULT_SOURCE},\\n          source = [];\\n\\n    let throttle = [0, 0],\\n        markname = 0,\\n        start = 0,\\n        n = s.length,\\n        i = 0, j,\\n        filter;\\n\\n    // extract throttle from end\\n    if (s[n-1] === RBRACE) {\\n      i = s.lastIndexOf(LBRACE);\\n      if (i >= 0) {\\n        try {\\n          throttle = parseThrottle(s.substring(i+1, n-1));\\n        } catch (e) {\\n          throw 'Invalid throttle specification: ' + s;\\n        }\\n        s = s.slice(0, i).trim();\\n        n = s.length;\\n      } else throw 'Unmatched right brace: ' + s;\\n      i = 0;\\n    }\\n\\n    if (!n) throw s;\\n\\n    // set name flag based on first char\\n    if (s[0] === NAME) markname = ++i;\\n\\n    // extract first part of multi-part stream selector\\n    j = find(s, i, COLON);\\n    if (j < n) {\\n      source.push(s.substring(start, j).trim());\\n      start = i = ++j;\\n    }\\n\\n    // extract remaining part of stream selector\\n    i = find(s, i, LBRACK);\\n    if (i === n) {\\n      source.push(s.substring(start, n).trim());\\n    } else {\\n      source.push(s.substring(start, i).trim());\\n      filter = [];\\n      start = ++i;\\n      if (start === n) throw 'Unmatched left bracket: ' + s;\\n    }\\n\\n    // extract filters\\n    while (i < n) {\\n      i = find(s, i, RBRACK);\\n      if (i === n) throw 'Unmatched left bracket: ' + s;\\n      filter.push(s.substring(start, i).trim());\\n      if (i < n-1 && s[++i] !== LBRACK) throw 'Expected left bracket: ' + s;\\n      start = ++i;\\n    }\\n\\n    // marshall event stream specification\\n    if (!(n = source.length) || ILLEGAL.test(source[n-1])) {\\n      throw 'Invalid event selector: ' + s;\\n    }\\n\\n    if (n > 1) {\\n      stream.type = source[1];\\n      if (markname) {\\n        stream.markname = source[0].slice(1);\\n      } else if (isMarkType(source[0])) {\\n        stream.marktype = source[0];\\n      } else {\\n        stream.source = source[0];\\n      }\\n    } else {\\n      stream.type = source[0];\\n    }\\n    if (stream.type.slice(-1) === '!') {\\n      stream.consume = true;\\n      stream.type = stream.type.slice(0, -1);\\n    }\\n    if (filter != null) stream.filter = filter;\\n    if (throttle[0]) stream.throttle = throttle[0];\\n    if (throttle[1]) stream.debounce = throttle[1];\\n\\n    return stream;\\n  }\\n\\n  function parseThrottle(s) {\\n    const a = s.split(COMMA);\\n    if (!s.length || a.length > 2) throw s;\\n    return a.map(_ => {\\n      const x = +_;\\n      if (x !== x) throw s;\\n      return x;\\n    });\\n  }\\n\\n  exports.selector = eventSelector;\\n\\n  Object.defineProperty(exports, '__esModule', { value: true });\\n\\n})));\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"factory\",\"define\",\"amd\",\"globalThis\",\"self\",\"vega\",\"find\",\"s\",\"i\",\"endChar\",\"pushChar\",\"popChar\",\"n\",\"length\",\"count\",\"c\",\"indexOf\",\"parseMerge\",\"output\",\"start\",\"COMMA\",\"push\",\"substring\",\"trim\",\"parseSelector\",\"RBRACK\",\"LBRACK\",\"b\",\"slice\",\"GT\",\"map\",\"stream\",\"between\",\"source\",\"DEFAULT_SOURCE\",\"throttle\",\"markname\",\"RBRACE\",\"lastIndexOf\",\"LBRACE\",\"parseThrottle\",\"e\",\"NAME\",\"j\",\"COLON\",\"filter\",\"ILLEGAL\",\"test\",\"type\",\"MARKS\",\"marktype\",\"consume\",\"debounce\",\"a\",\"split\",\"_\",\"x\",\"DEFAULT_MARKS\",\"arc\",\"area\",\"group\",\"image\",\"line\",\"path\",\"rect\",\"rule\",\"shape\",\"symbol\",\"text\",\"trail\",\"selector\",\"eventSelector\",\"marks\",\"VIEW\",\"Object\",\"defineProperty\",\"value\"]\n}\n"]